<!DOCTYPE HTML>
<html lang="en-US" manifest="../manifest.appcache">
    
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        
        <meta charset="UTF-8">
        <title>Report schemas | XBRL Tutorial</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="28msec">
        <meta name="description" content="Build Status">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../gitbook/chap-BizQLTutorial-DesignYourOwnRESTAPI.html" />
        
        
        <link rel="prev" href="../gitbook/chap-BizQLTutorial-Hypercubes.html" />
        

        <meta property="og:title" content="Report schemas | XBRL Tutorial">
        <meta property="og:site_name" content="XBRL Tutorial">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/28msec">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
        
    </head>
    <body>
        
        

        <link rel="stylesheet" href="../gitbook/style.css">
        


        
    <div class="book" data-github="28msec/xbrl-tutorial" data-level="7" data-basepath=".." data-revision="1404580988447">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    
    <a href="https://github.com/28msec/xbrl-tutorial" target="_blank" class="btn pull-left home-bookmark" aria-label="GitHub home"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="btn-group btn-block">
        <button id="reduce-font-size" class="btn btn-default">A</button>
        <button id="enlarge-font-size" class="btn btn-default">A</button>
    </div>

    <ul class="list-group font-family-list">
        <li class="list-group-item" data-font="0">Serif</li>
        <li class="list-group-item" data-font="1">Sans</li>
    </ul>

    <div class="btn-group btn-group-xs btn-block color-theme-list">
        <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
    </div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/28msec/xbrl-tutorial/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/28msec/xbrl-tutorial/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="../" >XBRL Tutorial</a>
    </h1>
</div>

    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        <li>
            <a href="https://github.com/28msec" target="blank" class="author-link">About the author</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/28msec/xbrl-tutorial/issues" target="blank"class="issues-link">Questions and Issues</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/28msec/xbrl-tutorial/edit/master/gitbook/chap-BizQLTutorial-ReportSchemas.md" target="blank" class="contribute-link">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
    
        <li class="chapter " data-level="1" data-path="gitbook/chap-BizQLTutorial-Introduction.html">
            
            <a href="../gitbook/chap-BizQLTutorial-Introduction.html">
                <i class="fa fa-check"></i> <b>1.</b> Introduction
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="gitbook/chap-BizQLTutorial-Companies.html">
            
            <a href="../gitbook/chap-BizQLTutorial-Companies.html">
                <i class="fa fa-check"></i> <b>2.</b> Companies
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="gitbook/chap-BizQLTutorial-Filings.html">
            
            <a href="../gitbook/chap-BizQLTutorial-Filings.html">
                <i class="fa fa-check"></i> <b>3.</b> Filings
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="gitbook/chap-BizQLTutorial-Networks.html">
            
            <a href="../gitbook/chap-BizQLTutorial-Networks.html">
                <i class="fa fa-check"></i> <b>4.</b> Networks
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="gitbook/chap-BizQLTutorial-FactTables.html">
            
            <a href="../gitbook/chap-BizQLTutorial-FactTables.html">
                <i class="fa fa-check"></i> <b>5.</b> Fact tables
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="gitbook/chap-BizQLTutorial-Hypercubes.html">
            
            <a href="../gitbook/chap-BizQLTutorial-Hypercubes.html">
                <i class="fa fa-check"></i> <b>6.</b> Hypercube Querying
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="gitbook/chap-BizQLTutorial-ReportSchemas.html">
            
            <a href="../gitbook/chap-BizQLTutorial-ReportSchemas.html">
                <i class="fa fa-check"></i> <b>7.</b> Report schemas
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="gitbook/chap-BizQLTutorial-DesignYourOwnRESTAPI.html">
            
            <a href="../gitbook/chap-BizQLTutorial-DesignYourOwnRESTAPI.html">
                <i class="fa fa-check"></i> <b>8.</b> Design Your Own REST API
            </a>
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 87.5%;min-width: 75%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../gitbook/chap-BizQLTutorial-Introduction.html" title="Introduction" class="chapter done new-chapter" data-progress="1" style="left: 12.5%;"></a>
    
        <a href="../gitbook/chap-BizQLTutorial-Companies.html" title="Companies" class="chapter done new-chapter" data-progress="2" style="left: 25%;"></a>
    
        <a href="../gitbook/chap-BizQLTutorial-Filings.html" title="Filings" class="chapter done new-chapter" data-progress="3" style="left: 37.5%;"></a>
    
        <a href="../gitbook/chap-BizQLTutorial-Networks.html" title="Networks" class="chapter done new-chapter" data-progress="4" style="left: 50%;"></a>
    
        <a href="../gitbook/chap-BizQLTutorial-FactTables.html" title="Fact tables" class="chapter done new-chapter" data-progress="5" style="left: 62.5%;"></a>
    
        <a href="../gitbook/chap-BizQLTutorial-Hypercubes.html" title="Hypercube Querying" class="chapter done new-chapter" data-progress="6" style="left: 75%;"></a>
    
        <a href="../gitbook/chap-BizQLTutorial-ReportSchemas.html" title="Report schemas" class="chapter done new-chapter" data-progress="7" style="left: 87.5%;"></a>
    
        <a href="../gitbook/chap-BizQLTutorial-DesignYourOwnRESTAPI.html" title="Design Your Own REST API" class="chapter  new-chapter" data-progress="8" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_9">
                    
                        <h1 id="report-schemas">Report schemas</h1>
<p>For convenience, there are report schemas which provide convenient querying hypercubes, and more.</p>
<p>By default, your project contains no report schema. In this tutorial, we provide one that you can download under <code>http://facs.28.io/process-report-schema.jq</code> . JSONiq is powerful enough to do this for you with just one click (to 28.io, the Web is nothing but yet another data source...).</p>
<p> Example - Download the report schema with the Fundamental Accounting Concepts.</p>
<pre><code class="lang-jsoniq">import module namespace http-client =
    &quot;http://zorba.io/modules/http-client&quot;;

let $schema := parse-json(http-client:get-text(
    &quot;http://facs.28.io/process-report-schema.jq&quot;
)(&quot;body&quot;)(&quot;content&quot;))
return
if(is-available-collection(&quot;reportschemas&quot;))
then {
    truncate(&quot;reportschemas&quot;);
    insert(&quot;reportschemas&quot;, $schema);
}
else
    create(&quot;reportschemas&quot;, $schema);

&quot;Schema successfully added.&quot;
</code></pre>
<p>(Yes, JSONiq can do updates and side effects, but, ssssshhhh! don&#39;t tell anybody we showed you that).</p>
<h2 id="fundamental-accounting-concepts">Fundamental Accounting Concepts</h2>
<p>Querying across multiple filings, even across companies, is not easy. This is because companies might not report their data in the same way. The Fundamental Accounting Concepts report schema provides an easy way to do so.</p>
<p>The report schema module is named <a href="http://xbrl.io/modules/bizql/report-schemas" target="_blank">http://xbrl.io/modules/bizql/report-schemas</a></p>
<p> Example - Asking for the FAC report schema</p>
<pre><code class="lang-jsoniq">import module namespace report-schemas =
    &quot;http://xbrl.io/modules/bizql/report-schemas&quot;;

report-schemas:report-schemas(&quot;FundamentalAccountingConcepts&quot;)
</code></pre>
<p>A report schema looks very much like a network, except that it is not bound to any filing. In particular, it also has a model structure.</p>
<p> Example - Asking for the FAC report schema</p>
<pre><code class="lang-jsoniq">import module namespace report-schemas = &quot;http://xbrl.io/modules/bizql/report-schemas&quot;;
import module namespace sec-networks =
    &quot;http://xbrl.io/modules/bizql/profiles/sec/networks&quot;;

let $schema := report-schemas:report-schemas(&quot;FundamentalAccountingConcepts&quot;)
return sec-networks:model-structures($schema)
</code></pre>
<p>But they have more than that. They may define their own concepts (beginning with the <code>fac:</code> prefix) and map them to real concepts with a so-called <code>concept map</code> .</p>
<p> Example - Asking for American Express&#39;s assets with the mapped fac:Assets concept</p>
<pre><code class="lang-jsoniq">import module namespace hypercubes =
    &quot;http://xbrl.io/modules/bizql/hypercubes&quot;;
import module namespace sec =
    &quot;http://xbrl.io/modules/bizql/profiles/sec/core&quot;;
import module namespace fiscal =
    &quot;http://xbrl.io/modules/bizql/profiles/sec/fiscal/core&quot;;

let $hypercube := hypercubes:dimensionless-hypercube()
let $filing := fiscal:filings-for-entities-and-fiscal-periods-and-years(
    4962,
    &quot;FY&quot;,
    2012
)
return sec:facts-for-archives-and-concepts(
    $filing,
    &quot;fac:Assets&quot;,
    {
        Hypercube: $hypercube,
        concept-maps: &quot;FundamentalAccountingConcepts&quot;
    }
)
</code></pre>
<p>For convenience, if you directly would like to retrieve all facts for a schema, you can use <code>sec:facts-for-schema</code> with the name of the desired schema, and the archive for which you would like the facts.</p>
<p> Example - Asking for Amex&#39; FACs</p>
<pre><code class="lang-jsoniq">import module namespace sec =
    &quot;http://xbrl.io/modules/bizql/profiles/sec/core&quot;;
import module namespace fiscal =
    &quot;http://xbrl.io/modules/bizql/profiles/sec/fiscal/core&quot;;

let $filing :=
    fiscal:filings-for-entities-and-fiscal-periods-and-years(
      4962,
      &quot;FY&quot;,
      2012 )
return sec:facts-for-schema(
    &quot;FundamentalAccountingConcepts&quot;,
    $filing
)
</code></pre>
<p>You can also ask for them across several archives.</p>
<p> Example - Asking for the FACs of Amex and Disney</p>
<pre><code class="lang-jsoniq">import module namespace sec =
    &quot;http://xbrl.io/modules/bizql/profiles/sec/core&quot;;
import module namespace fiscal =
    &quot;http://xbrl.io/modules/bizql/profiles/sec/fiscal/core&quot;;

let $filing :=
    fiscal:filings-for-entities-and-fiscal-periods-and-years(
      (4962, 1001039),
      &quot;FY&quot;,
      2012 )
return sec:facts-for-schema(
    &quot;FundamentalAccountingConcepts&quot;,
    $filing
)
</code></pre>
<h2 id="the-secxbrl-info-rest-api-for-concept-maps">The SECXBRL.info REST API for concept maps</h2>
<p>We also provide a REST API that allows you to look up mapped concepts and, say, import them into an Excel spreadsheet. The API is documentedhere</p>
<h3 id="retrieve-a-fact-with-a-concept-map">Retrieve a fact with a concept map</h3>
<p>You can use a concept map with the facts API using the <code>map</code> parameter, together with the name of the containing report schema, like so:</p>
<p> <a href="http://secxbrl.xbrl.io/api/facts.jq?concept=fac:Assets" target="_blank">http://secxbrl.xbrl.io/api/facts.jq?concept=fac:Assets</a> <a href="&amp;tag=DOW30&amp;map=FundamentalAccountingConcepts">&amp;tag=DOW30&amp;map=FundamentalAccountingConcepts</a></p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../gitbook/chap-BizQLTutorial-Hypercubes.html" class="navigation navigation-prev " aria-label="Previous page: Hypercube Querying"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../gitbook/chap-BizQLTutorial-DesignYourOwnRESTAPI.html" class="navigation navigation-next " aria-label="Next page: Design Your Own REST API"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        

    
    <script src="../gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
